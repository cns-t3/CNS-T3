FROM python:3.10-slim
WORKDIR /app
ARG PERSON_DNS
ARG NEWS_DNS
ARG IDENTITY_DNS
ARG ANALYTICS_DNS
# ARG PROD
ARG AZURE_STORAGE_CONNECTION_STRING
ENV PERSON_DNS=${PERSON_DNS}
ENV NEWS_DNS=${NEWS_DNS}
ENV IDENTITY_DNS=${IDENTITY_DNS}
ENV ANALYTICS_DNS=${ANALYTICS_DNS}
# ENV PROD=${PROD}
ENV AZURE_STORAGE_CONNECTION_STRING=${AZURE_STORAGE_CONNECTION_STRING}
COPY . /app
RUN pip install --no-cache-dir -r ./backend/requirements.txt
EXPOSE 8000
CMD ["uvicorn", "backend.api.searchAPI.main:app", "--host", "0.0.0.0", "--port", "8000"]